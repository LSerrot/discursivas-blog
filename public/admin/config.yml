backend:
  name: git-gateway
  branch: main
publish_mode: editorial_workflow
media_folder: "public/images/uploads"
public_folder: "/images/uploads"
site_url: https://blogdiscursivas.netlify.app
display_url: https://blogdiscursivas.netlify.app
logo_url: https://discursivas.com/wp-content/uploads/2025/11/Black-Med-Discursivas-Logo-1-scaled.png
locale: 'pt'

collections:
  # --- COLE√á√ÉO 1: BLOG (A Principal) ---
  - name: "blog"
    label: "üìù Artigos"
    label_singular: "Artigo"
    folder: "src/content/blog"
    create: true
    slug: "{{slug}}"
    summary: "{{title}}"
    fields:
      - {label: "T√≠tulo", name: "title", widget: "string"}
      - {label: "Resumo SEO", name: "description", widget: "text"}
      - {label: "Data", name: "pubDate", widget: "datetime", format: "YYYY-MM-DD"}
      
      # CAMPO DE AUTOR INTELIGENTE
      # Ele busca na cole√ß√£o 'authors', mostra o 'name' mas salva o 'slug' (ID)
      - label: "Autor"
        name: "author"
        widget: "relation"
        collection: "authors"
        search_fields: ["name"]
        value_field: "{{slug}}"
        display_fields: ["name"]
        default: "admin"

      # CAMPO DE CATEGORIAS INTELIGENTE (Multi-sele√ß√£o)
      - label: "Disciplinas / Tags"
        name: "categories"
        widget: "relation"
        collection: "categories"
        search_fields: ["title", "parent"]
        value_field: "{{slug}}"
        # O TRUQUE: Mostra "Biologia > Gen√©tica" na lista de sele√ß√£o
        display_fields: ["{{parent}} > {{title}}"] 
        multiple: true
        hint: "üè∑Ô∏è Selecione uma ou mais categorias. Voc√™ pode buscar pelo nome da mat√©ria."

      - {label: "Capa", name: "image", widget: "image", required: false}
      - {label: "Rascunho", name: "draft", widget: "boolean", default: false}
      - {label: "Conte√∫do", name: "body", widget: "markdown"}

  # --- COLE√á√ÉO 2: AUTORES (Banco de Dados de Pessoas) ---
  - name: "authors"
    label: "üë• Autores / Equipe"
    label_singular: "Autor"
    folder: "src/content/authors"
    create: true
    slug: "{{slug}}" # O nome do arquivo ser√° o ID (ex: pedro-primao)
    fields:
      - {label: "Nome Completo", name: "name", widget: "string"}
      - {label: "Cargo / Fun√ß√£o", name: "role", widget: "string", default: "Professor"}
      - {label: "Foto (Avatar)", name: "avatar", widget: "image"}
      - {label: "Mini Bio", name: "bio", widget: "text", required: false}

  # --- COLE√á√ÉO 3: CATEGORIAS (Banco de Dados de Mat√©rias) ---
  - name: "categories"
    label: "üìö Disciplinas e Tags"
    folder: "src/content/categories"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Nome da Mat√©ria/Tag", name: "title", widget: "string"}
      - {label: "Categoria M√£e (Opcional)", name: "parent", widget: "string", required: false, hint: "Ex: Se a tag for 'Gen√©tica', a m√£e √© 'Biologia'."}
      - {label: "Cor da Tag", name: "color", widget: "color", default: "#E07720"}