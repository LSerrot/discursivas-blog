backend:
  name: git-gateway
  branch: main

# Workflow Editorial (Kanban: Rascunho -> Em RevisÃ£o -> Pronto)
publish_mode: editorial_workflow

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

site_url: https://blogdiscursivas.netlify.app
display_url: https://blogdiscursivas.netlify.app
logo_url: https://discursivas.com/wp-content/uploads/2025/11/Black-Med-Discursivas-Logo-1-scaled.png
locale: 'pt'

collections:
  # --- BLOG ---
  - name: "blog"
    label: "ðŸ“ Artigos"
    label_singular: "Artigo"
    folder: "src/content/blog"
    create: true
    # Slug automÃ¡tico com data para organizar melhor (ex: 2025-12-02-titulo-do-post)
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    summary: "{{title}}"
    fields:
      - {label: "TÃ­tulo", name: "title", widget: "string"}
      - {label: "Resumo SEO", name: "description", widget: "text"}
      - {label: "Data", name: "pubDate", widget: "datetime", format: "YYYY-MM-DD", default: ""}
      
      # SELEÃ‡ÃƒO DE AUTOR OTIMIZADA
      - label: "Autor"
        name: "author"
        widget: "relation"
        collection: "authors"
        search_fields: ["name"]
        value_field: "{{slug}}"
        display_fields: ["name"]
        default: "admin"
        hint: "ðŸ’¡ Use o botÃ£o 'Quick add' no topo direito se precisar criar um novo autor agora."

      # SELEÃ‡ÃƒO DE CATEGORIAS OTIMIZADA
      - label: "Disciplinas / Tags"
        name: "categories"
        widget: "relation"
        collection: "categories"
        search_fields: ["title", "parent"]
        value_field: "{{slug}}"
        display_fields: ["{{parent}} > {{title}}"]
        multiple: true
        hint: "ðŸ·ï¸ Selecione mÃºltiplas. Use 'Quick add' no topo para criar novas."

      - {label: "Capa", name: "image", widget: "image", required: false}
      - {label: "Rascunho", name: "draft", widget: "boolean", default: false}
      - {label: "ConteÃºdo", name: "body", widget: "markdown"}

  # --- AUTORES ---
  - name: "authors"
    label: "ðŸ‘¥ Autores"
    label_singular: "Autor"
    folder: "src/content/authors"
    create: true
    # Slug automÃ¡tico baseado no nome (ex: nome: "Pedro" -> arquivo: "pedro.md")
    slug: "{{name}}"
    summary: "{{name}} ({{role}})"
    fields:
      - {label: "Nome Completo", name: "name", widget: "string"}
      - {label: "Cargo", name: "role", widget: "string", default: "Professor"}
      - {label: "Foto", name: "avatar", widget: "image"}
      - {label: "Bio", name: "bio", widget: "text", required: false}

  # --- CATEGORIAS ---
  - name: "categories"
    label: "ðŸ“š Disciplinas"
    label_singular: "Disciplina"
    folder: "src/content/categories"
    create: true
    # Slug automÃ¡tico
    slug: "{{title}}" 
    summary: "{{title}} (Pai: {{parent}})"
    fields:
      - {label: "Nome", name: "title", widget: "string"}
      - {label: "Categoria MÃ£e", name: "parent", widget: "string", required: false}
      - {label: "Cor", name: "color", widget: "color", default: "#E07720"}